@page "/register"
@inject IRegisterService RegisterService
@inject Microsoft.AspNetCore.Components.NavigationManager navigationManager


<div class="row">
    <div class="col-md-4">
        <form>
            <div class="form-group">
                <label for="Name" class="control-label">Name</label>
                <input type="text" for="Name" class="form-control" @bind-value="@user.Name" />

                <label for="Surname" class="control-label">Surname</label>
                <input type="text" for="Surname" class="form-control" @bind-value="@user.Surname" />


                <label for="BirthDate" class="control-label">Birth Date</label>
                <input type="date" for="BirthDate" class="form-control" @bind-value="@user.BirthDate" />

                <label for="Email" class="control-label">Email</label>
                <input type="email" for="Email" class="form-control" @bind-value="@user.Email" />

                <label for="Password" class="control-label">Password</label>
                <input type="password" for="Password" class="form-control" @bind-value="@user.Password" />

                <label for="PhoneNumber" class="control-label">Telephone number</label>
                <input type="tel" for="PhoneNumber" class="form-control" @bind-value="@user.PhoneNumber" />
                

                        <input type="hidden" @bind-value="@user.Id" />
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" @onclick="() => CreateUser()">Register</button>
                <button type="button" class="btn btn-danger" @onclick="() => cancel()">Cancel</button>
            </div>
        </form>
    </div>
</div>

@code {


    User user = new User();

    protected async Task CreateUser()
    {
        await RegisterService.Create(user);

        navigationManager.NavigateTo("/index");

    }

    void cancel()
    {
        navigationManager.NavigateTo("/index");
    }

}